<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		.clf:after {content: "";display: block;clear: both;}
		.pho {width: 256px;height: 536px;background: url(img/iPhone.png) no-repeat;position: relative;}
		input {width:125px;height: 30px;position: absolute;top: 423px;left: 60px;box-sizing: border-box;border: none;outline: none;}
		.smi {width: 25px;
		height: 29px;
		border: lightgoldenrodyellow 1px solid;
		border-radius: 3px;
		position: absolute;top: 423px;left: 26px;
		} 
		.send {width: 45px;height: 26px;cursor: pointer;
		position: absolute;top: 424px;left: 188px;}
		.text {width: 220px;height: 338px;position: absolute;overflow: hidden;
		top: 77px;left: 18px;}
		.smi1 {background: url(img/qq1.gif) no-repeat 2px 2px;}
		.smi2 {background: url(img/qq2.gif) no-repeat 2px 2px;}
		.send1 {padding:2px;margin:2px;margin-bottom: none;
		height: 20px;float: left;}
		img{vertical-align: bottom;margin: 5px;}
		.send1 div {border: 1px #000000 solid;}
		/* 吐槽一下原版bug 没有word-break:break-all;的话 英文字符是不会换行的！！！！会顶出去，傻！ */
		.text div div{max-width: 175px;margin-top: 6px;font:12.5px/18px 微软雅黑;padding: 3px;word-break:break-all;}
		.fll{float: left;background: #2BC71C;color: white;border: 1px solid #2BC71C;border-radius: 3px;}
		.flr{float: right;background: lightgrey;border: 1px solid lightgrey;border-radius: 3px;}
	</style>
	<body>
		<div class="pho">
			<div class="text">
				<!-- <div class="clf">
					<img src="img/qq1.gif" style="float: left;">
					<div class="fll">这是一句测试文字，测试文字，测试换行表现 测试正常换行表现</div>
				</div>
				<div class="clf">
					<img src="img/qq1.gif" style="float: left;">
					<div class="fll">这是一句换行表现</div>
				</div>
				<div class="clf">
					<img src="img/qq1.gif" style="float: left;">
					<div class="fll">这是一句测试文adfsafsafdasf adafasd 行表现 测表现</div>
				</div> -->
			</div>
			<div class="smi smi1"></div>
			<input type="" name="" id="" value="" />
			<div class="send"></div>
		</div>
	</body>
</html>
<script type="text/javascript">
	var text = document.getElementsByClassName("text")[0]
	var smi = document.getElementsByClassName("smi")[0]
	var send = document.getElementsByClassName("send")[0]
	var input = document.getElementsByTagName("input")[0]
	send.onclick = function(){
		if(input.value != ""){
			if(smi.className.substring(7) == 1){
				text.innerHTML = ('<div class="clf"><img src="img/qq1.gif" style="float: left;"><div class="fll">' + input.value + '</div></div>') + text.innerHTML 
			}else{
				text.innerHTML = ('<div class="clf"><img src="img/qq2.gif" style="float: right;"><div class="flr">' + input.value + '</div></div>') + text.innerHTML
			}
			input.value = "";
		}else {
			alert("看起来是好心好意的提醒，其实是会出bug所以！必须有内容！")
		}
	}
	
	smi.onclick = function(){
		if(smi.className.substring(7) == 1){
			smi.className = "smi smi2"
		}else{
			smi.className = "smi smi1"
		}
	}
	
</script>